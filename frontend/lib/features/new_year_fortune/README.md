# 2026 ì‹ ë…„ìš´ì„¸ (New Year Fortune) Feature

## ê°œìš”
2026ë…„ ì‹ ë…„ìš´ì„¸ë¥¼ í‘œì‹œí•˜ëŠ” í™”ë©´. AIê°€ ìƒì„±í•œ ìš´ì„¸ ë°ì´í„°ë¥¼ Supabaseì—ì„œ ê°€ì ¸ì™€ í‘œì‹œ.

## íŒŒì¼ êµ¬ì¡°
```
new_year_fortune/
â”œâ”€â”€ presentation/
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â””â”€â”€ new_year_fortune_screen.dart  # ë©”ì¸ í™”ë©´
â”‚   â””â”€â”€ providers/
â”‚       â”œâ”€â”€ new_year_fortune_provider.dart     # ë°ì´í„° Provider
â”‚       â””â”€â”€ new_year_fortune_provider.g.dart   # ìƒì„±ëœ ì½”ë“œ
â””â”€â”€ README.md
```

## UI íë¦„ (ìœ„ì—ì„œ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤)
1. **ì œëª©** - 2026ë…„ ì‹ ë…„ìš´ì„¸ + ì—°ê°„ì§€
2. **ì—°ë„ ì •ë³´** - ë³‘ì˜¤ë…„ ì„¤ëª… (ë‚©ìŒ, 12ìš´ì„±, ì‹ ì‚´)
3. **ê°œì¸ ë¶„ì„** - ì¼ê°„ ë¶„ì„, í™” ê¸°ìš´ ì˜í–¥, ìš©ì‹  ì¡°í™”, í•©ì¶© ì˜í–¥
4. **ì´ìš´** - í‚¤ì›Œë“œ, ì ìˆ˜, ìš”ì•½, í•µì‹¬ í¬ì¸íŠ¸
5. **ë¶„ê¸°ë³„ ìš´ì„¸** - Q1~Q4 ê° ë¶„ê¸° ìš´ì„¸
6. **ë¶„ì•¼ë³„ ìš´ì„¸** â­ - 6ê°œ ì¹´í…Œê³ ë¦¬ ì¹© (ê´‘ê³  ì‹œì²­ í›„ ì ê¸ˆí•´ì œ)
7. **í–‰ìš´ ì •ë³´** - í–‰ìš´ìƒ‰, ìˆ«ì, ë°©í–¥, ì•„ì´í…œ
8. **ë§ˆë¬´ë¦¬ ë©”ì‹œì§€** - ì—°ê°„ ë©”ì‹œì§€ + ìµœì¢… ì¡°ì–¸
9. **AI ìƒë‹´ ë²„íŠ¼**

## ë¶„ì•¼ë³„ ìš´ì„¸ (ì¹´í…Œê³ ë¦¬ ì¹©) - í•µì‹¬ ê¸°ëŠ¥
- **ìœ„ì¹˜**: ë¶„ê¸°ë³„ ìš´ì„¸ ë‹¤ìŒì— í‘œì‹œ (line 182-203)
- **ì»´í¬ë„ŒíŠ¸**: `FortuneCategoryChipSection` (shared widget)
- **ì¹´í…Œê³ ë¦¬**: career, wealth, love, health, study, business (6ê°œ)
- **ì ê¸ˆ/í•´ì œ**: Hive ë¡œì»¬ ì €ì¥ì†Œ (`unlocked_fortune_categories`)
- **ê´‘ê³  ì—°ë™**: ì ê¸´ ì¹© í´ë¦­ â†’ ë¦¬ì›Œë“œ ê´‘ê³  â†’ ì ê¸ˆ í•´ì œ â†’ ë‚´ìš© í‘œì‹œ

## ë°ì´í„° ì†ŒìŠ¤
- **í…Œì´ë¸”**: `ai_summaries`
- **ì¿¼ë¦¬**: `Yearly2026Queries.getCached(profileId)`
- **content í•„ë“œ**: JSON í˜•íƒœë¡œ ì €ì¥
```json
{
  "year": 2026,
  "yearGanji": "ë³‘ì˜¤(ä¸™åˆ)",
  "yearInfo": {...},
  "overview": {...},
  "timeline": { "q1": {...}, "q2": {...}, "q3": {...}, "q4": {...} },
  "categories": {
    "love": { "icon": "ğŸ’•", "score": 78, "title": "ì—°ì• ìš´", "reading": "..." },
    "career": {...},
    "wealth": {...},
    "health": {...},
    "study": {...},
    "business": {...}
  },
  "lucky": {...},
  "closing": {...}
}
```

## ìµœê·¼ ë³€ê²½ì‚¬í•­ (2026-01-20)
1. **ì¹´í…Œê³ ë¦¬ ìˆœì„œ ë³€ê²½**: ë¶„ê¸°ë³„ ìš´ì„¸ â†’ ì¹´í…Œê³ ë¦¬ (ê¸°ì¡´: ì¹´í…Œê³ ë¦¬ â†’ ë¶„ê¸°ë³„)
2. **ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ ì¶”ê°€**: AI ì‘ë‹µì— categories ì—†ì„ ë•Œ 6ê°œ ê¸°ë³¸ ì¹© í‘œì‹œ
3. **í…Œë§ˆ ì†ì„± ìˆ˜ì •**: `cardBackground` â†’ `cardColor`, `borderColor` â†’ `textMuted.withValues(alpha: 0.3)`

## ê´€ë ¨ íŒŒì¼
- `shared/widgets/fortune_category_chip_section.dart` - ì¹´í…Œê³ ë¦¬ ì¹© ê³µí†µ ìœ„ì ¯
- `AI/fortune/yearly_2026/yearly_2026_queries.dart` - Supabase ì¿¼ë¦¬
- `AI/fortune/yearly_2026/yearly_2026_prompt.dart` - AI í”„ë¡¬í”„íŠ¸

## ì£¼ì˜ì‚¬í•­
- categories ë°ì´í„°ê°€ DBì— ìˆì–´ë„ íŒŒì‹± ì‹¤íŒ¨í•˜ë©´ ë¹ˆ ë§µìœ¼ë¡œ ì²˜ë¦¬ë¨
- `_getDefaultCategories()` ë©”ì„œë“œë¡œ fallback ì œê³µ
- ê´‘ê³  ì—†ì´ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ Hiveì—ì„œ ì§ì ‘ unlock ì²˜ë¦¬ ê°€ëŠ¥
