# ê´‘ê³  í† í° ìµœì¢… ì„¤ì • (v2)

> ë‚ ì§œ: 2026-02-02
> ì „ëµ: **í´ë¦­ ê´‘ê³ ë§Œ ì‚¬ìš© (ì˜ìƒ ì œê±°)**
> ëª©í‘œ: ëŒ€í™”í• ìˆ˜ë¡ ë¬´ì¡°ê±´ í‘ì

---

## ìµœì¢… ê²°ì •

### âŒ ì˜ìƒ ê´‘ê³  ì œê±° ì´ìœ 
- ì˜ìƒ ê´‘ê³ (Rewarded Video)ëŠ” ìˆ˜ìµì´ ë‚®ìŒ ($0.015~0.030)
- ì˜ìƒë§Œ ì„ íƒí•˜ëŠ” ìœ ì €ëŠ” ê³„ì† ì ì
- ë³µì¡í•œ 2ë²„íŠ¼ UI ë¶ˆí•„ìš”

### âœ… í´ë¦­ ê´‘ê³ ë§Œ ì‚¬ìš©
- Native Ad í´ë¦­ ì‹œ ìˆ˜ìµ ë†’ìŒ ($0.10~0.50)
- 1ë²ˆë§Œ í´ë¦­í•´ë„ ì¦‰ì‹œ í‘ì
- UI ê°„ë‹¨ (ë²„íŠ¼ 1ê°œ)
- ìœ ì € ì„ íƒ ê³ ë¯¼ ì—†ìŒ

---

## í† í° ì„¤ì •

```dart
// frontend/lib/ad/ad_strategy.dart

/// ì¼ì¼ ê¸°ë³¸ í† í° (Supabase daily_quota)
daily_quota = 20,000

/// í† í° ì†Œì§„ â†’ í´ë¦­ ê´‘ê³  ë³´ìƒ í† í°
static const int depletedRewardTokensNative = 15000;

/// ì˜ìƒ ê´‘ê³  ë¯¸ì‚¬ìš©
static const int depletedRewardTokensVideo = 0;
```

---

## ì†ìµ ê³„ì‚°

### ê¸°ë³¸ ê°€ì •
- 1êµí™˜ = 7,200 í† í°
- 1êµí™˜ AI ë¹„ìš© = $0.015 (Gemini 3.0 Flash)
- í´ë¦­ ê´‘ê³  ìˆ˜ìµ = $0.10 (ë³´ìˆ˜ì  CPC)
- ì¸ë¼ì¸ ë„¤ì´í‹°ë¸Œ: 4ë©”ì‹œì§€(2êµí™˜)ë§ˆë‹¤ 1ê°œ = $0.005

---

### ìˆœì°¨ ì†ìµ

#### ì‚¬ì´í´ 0: ë¬´ë£Œ 3êµí™˜ (daily_quota 20,000)
- ë©”ì‹œì§€: 6ê°œ
- ì¸ë¼ì¸ ê´‘ê³ : 1ê°œ (ë©”ì‹œì§€ 4)
- AI ë¹„ìš©: $0.045
- ì¸ë¼ì¸ ìˆ˜ìµ: $0.005
- **ì†ìµ: -$0.040**

#### ì‚¬ì´í´ 1: í´ë¦­ ê´‘ê³  (15,000 í† í°)
- êµí™˜ ìˆ˜: 15,000 / 7,200 = **2.08êµí™˜**
- ë©”ì‹œì§€: +4.16ê°œ (ì´ 10.16ê°œ)
- ì¸ë¼ì¸ ê´‘ê³ : +1ê°œ (ë©”ì‹œì§€ 8, ì´ 2ê°œ)
- í´ë¦­ ìˆ˜ìµ: **$0.10**
- AI ë¹„ìš©: $0.032
- ì¸ë¼ì¸ ìˆ˜ìµ: $0.005
- ì‚¬ì´í´ ì†ìµ: $0.10 + $0.005 - $0.032 = **+$0.073**
- **ëˆ„ì  ì†ìµ: -$0.040 + $0.073 = +$0.033** âœ… **í‘ì ì „í™˜!**

#### ì‚¬ì´í´ 2: í´ë¦­ ê´‘ê³  (15,000 í† í°)
- êµí™˜ ìˆ˜: +2.08êµí™˜ (ì´ 5.16êµí™˜)
- ë©”ì‹œì§€: +4.16ê°œ (ì´ 14.32ê°œ)
- ì¸ë¼ì¸ ê´‘ê³ : +1ê°œ (ë©”ì‹œì§€ 12, ì´ 3ê°œ)
- í´ë¦­ ìˆ˜ìµ: $0.10
- AI ë¹„ìš©: $0.032
- ì¸ë¼ì¸ ìˆ˜ìµ: $0.005
- ì‚¬ì´í´ ì†ìµ: +$0.073
- **ëˆ„ì  ì†ìµ: +$0.033 + $0.073 = +$0.106** âœ…

#### ì‚¬ì´í´ 3: í´ë¦­ ê´‘ê³  (15,000 í† í°)
- ëˆ„ì  ì†ìµ: +$0.106 + $0.073 = **+$0.179** âœ…

---

## ê²°ë¡ : ëŒ€í™”í• ìˆ˜ë¡ ê³„ì† í‘ì!

| ì‚¬ì´í´ | ëˆ„ì  êµí™˜ | ëˆ„ì  ì†ìµ | ìƒíƒœ |
|--------|----------|----------|------|
| 0 (ë¬´ë£Œ) | 3êµí™˜ | -$0.040 | ì ì |
| 1 (í´ë¦­) | 5.08êµí™˜ | **+$0.033** | âœ… í‘ì |
| 2 (í´ë¦­) | 7.16êµí™˜ | **+$0.106** | âœ… |
| 3 (í´ë¦­) | 9.24êµí™˜ | **+$0.179** | âœ… |
| 4 (í´ë¦­) | 11.32êµí™˜ | **+$0.252** | âœ… |

**í´ë¦­ 1ë²ˆë§Œ ë´ë„ ì¦‰ì‹œ í‘ì. ì´í›„ ê³„ì† í‘ì ì¦ê°€!**

---

## UI êµ¬í˜„

### í† í° ì†Œì§„ ì‹œ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í† í°ì´ ì†Œì§„ë˜ì—ˆì–´ìš”! ê´‘ê³ ë¥¼ ë³´ë©´ ëŒ€í™”ë¥¼        â”‚
â”‚  ê³„ì†í•  ìˆ˜ ìˆì–´ìš”                              â”‚
â”‚                                                â”‚
â”‚  [ğŸ“‹ ê´‘ê³  ë³´ê³  2ë²ˆ ë” ëŒ€í™”í•˜ê¸°]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë²„íŠ¼ 1ê°œë§Œ** (ê°„ë‹¨ëª…ë£Œ)

---

## AdMob ì •ì±… ì¤€ìˆ˜

### âŒ ê¸ˆì§€ëœ í‘œí˜„
- "ê´‘ê³  **í´ë¦­**í•˜ê³ "
- "ê´‘ê³ ë¥¼ **ëˆŒëŸ¬**ì£¼ì„¸ìš”"
- "ê´‘ê³ ë¥¼ **íƒ­**í•´ì£¼ì„¸ìš”"

### âœ… í—ˆìš©ëœ í‘œí˜„
- "ê´‘ê³  **ë³´ê³ **" â† **í˜„ì¬ ì‚¬ìš©**
- "ê´‘ê³  **í™•ì¸í•˜ê³ **"
- "ê´‘ê³  **ì‚´í´ë³´ê³ **"

**"ê´‘ê³  ë³´ê³  2ë²ˆ ë” ëŒ€í™”í•˜ê¸°"ëŠ” AdMob ì •ì±… ì•ˆì „í•¨**

---

## í´ë¦­ ê´‘ê³  ì‘ë™ ë°©ì‹

### ìœ ì € í”Œë¡œìš°
1. ë²„íŠ¼ í´ë¦­: "ğŸ“‹ ê´‘ê³  ë³´ê³  2ë²ˆ ë” ëŒ€í™”í•˜ê¸°"
2. â†’ ì±„íŒ…ì°½ì— Native Ad ë°°ë„ˆ ë‚˜íƒ€ë‚¨
3. â†’ ìœ ì €ê°€ ë°°ë„ˆ í´ë¦­ â†’ ì›¹í˜ì´ì§€ ë°©ë¬¸
4. â†’ í´ë¦­ ì¦‰ì‹œ 15,000 í† í° ì§€ê¸‰
5. â†’ ëŒ€í™” ì¬ê°œ (2ë²ˆ ë” ê°€ëŠ¥)

### í† í° ì§€ê¸‰ ì¡°ê±´
- Native Ad ë°°ë„ˆë¥¼ **í´ë¦­í•˜ë©´** í† í° ì§€ê¸‰
- í´ë¦­ ì•ˆ í•˜ë©´ í† í° 0ê°œ
- ì›¹í˜ì´ì§€ ì²´ë¥˜ ì‹œê°„ ë¬´ê´€ (í´ë¦­ë§Œìœ¼ë¡œ CPC ë°›ìŒ)

### ê¸°ìˆ ì  ì œì•½
- AdMob SDKëŠ” í´ë¦­ë§Œ ê°ì§€ (`onAdClicked` ì½œë°±)
- ì›¹í˜ì´ì§€ ë°©ë¬¸ ì‹œê°„ ì¶”ì  ë¶ˆê°€
- ìœ ì €ê°€ 1ì´ˆ ë§Œì— ë’¤ë¡œê°€ê¸° í•´ë„ ìš°ë¦¬ëŠ” CPC ë°›ìŒ â†’ ì†í•´ ì—†ìŒ

---

## ì¸ë¼ì¸ ê´‘ê³  (ëŒ€í™” ì¤‘ ìë™ ë…¸ì¶œ)

### ì„¤ì •
```dart
// frontend/lib/ad/ad_strategy.dart

/// ì¸ë¼ì¸ ê´‘ê³  í‘œì‹œ ê°„ê²© (ë©”ì‹œì§€ ìˆ˜)
static const int inlineAdMessageInterval = 4;  // 4ë©”ì‹œì§€ë§ˆë‹¤

/// ì¸ë¼ì¸ ê´‘ê³  ìµœì†Œ ë©”ì‹œì§€ ìˆ˜
static const int inlineAdMinMessages = 4;  // 2êµí™˜ í›„ë¶€í„°
```

### íƒ€ì´ë°
```
ë©”ì‹œì§€ 1~3: ê´‘ê³  ì—†ìŒ
ë©”ì‹œì§€ 4:   ì¸ë¼ì¸ ê´‘ê³  1ê°œ (AI ì‘ë‹µ ë’¤)
ë©”ì‹œì§€ 5~7: ê´‘ê³  ì—†ìŒ
ë©”ì‹œì§€ 8:   ì¸ë¼ì¸ ê´‘ê³  2ê°œ
...ë°˜ë³µ...
```

### í† í° ë³´ìƒ
- **ë…¸ì¶œë§Œ**: í† í° 0ê°œ (ìˆœìˆ˜ eCPM ìˆ˜ìµ $0.005)
- **í´ë¦­ ì‹œ**: 7,000 í† í° ì§€ê¸‰

**ì¸ë¼ì¸ì€ ìˆœìˆ˜ ì´ìµ (í† í° ì•ˆ ì¤˜ë„ ë˜ë‹ˆê¹Œ)**

---

## ê´‘ê³  ìˆ˜ìµ vs AI ë¹„ìš© ìš”ì•½

| í•­ëª© | ìˆ˜ìµ/ë¹„ìš© | ë¹„ê³  |
|------|----------|------|
| í´ë¦­ ê´‘ê³  (CPC) | **+$0.10~0.50** | ì›¹ ë°©ë¬¸, ë†’ìŒ |
| ì¸ë¼ì¸ ë…¸ì¶œ (eCPM) | +$0.005 | 4ë©”ì‹œì§€ë§ˆë‹¤ |
| ì¸ë¼ì¸ í´ë¦­ | +$0.10 + 7,000 í† í° | ìœ ì €ê°€ í´ë¦­ ì‹œ |
| ì „ë©´ ê´‘ê³  (eCPM) | +$0.02~0.05 | í˜ì´ì§€ ì „í™˜ ì‹œ |
| 1êµí™˜ AI ë¹„ìš© | -$0.015 | Gemini 3.0 Flash |

**í´ë¦­ ê´‘ê³  1íšŒ ìˆ˜ìµ > AI ë¹„ìš© 2êµí™˜**

---

## êµ¬í˜„ íŒŒì¼

### 1. í† í° ì„¤ì •
- `frontend/lib/ad/ad_strategy.dart`

### 2. UI
- `frontend/lib/features/saju_chat/presentation/widgets/token_depleted_banner.dart`

### 3. ê´‘ê³  ì„œë¹„ìŠ¤
- `frontend/lib/ad/ad_service.dart` (ë³€ê²½ ë¶ˆí•„ìš”)
- `frontend/lib/ad/ad_tracking_service.dart` (ë³€ê²½ ë¶ˆí•„ìš”)

---

## ë³€ê²½ ì´ë ¥

### v2 (2026-02-02): í´ë¦­ ê´‘ê³ ë§Œ ì‚¬ìš©
- ì˜ìƒ ê´‘ê³ (Rewarded Video) ì œê±°
- í´ë¦­ ê´‘ê³ (Native Ad)ë§Œ ì‚¬ìš©
- í† í°: 15,000 (2êµí™˜)
- ë²„íŠ¼ í…ìŠ¤íŠ¸: "ê´‘ê³  ë³´ê³  2ë²ˆ ë” ëŒ€í™”í•˜ê¸°"
- í´ë¦­ 1ë²ˆë§Œ ë´ë„ ì¦‰ì‹œ í‘ì
- ëŒ€í™”í• ìˆ˜ë¡ ê³„ì† í‘ì ì¦ê°€

### v1 (2026-02-02): 2ë²„íŠ¼ ì „ëµ (íê¸°)
- ì˜ìƒ + í´ë¦­ 2ê°€ì§€ ì„ íƒ
- ì˜ìƒë§Œ ì„ íƒ ì‹œ ì ì ë¬¸ì œ
- UI ë³µì¡í•¨

---

## TODO

- [x] MD íŒŒì¼ ì—…ë°ì´íŠ¸
- [ ] `ad_strategy.dart` í† í° ê°’ ë³€ê²½
- [ ] `token_depleted_banner.dart` UI ë³€ê²½ (ë²„íŠ¼ 1ê°œ)
- [ ] í…ŒìŠ¤íŠ¸: í´ë¦­ ê´‘ê³  í›„ 15,000 í† í° ì§€ê¸‰ í™•ì¸
- [ ] AdMob ì‹¤ì œ CPC ëª¨ë‹ˆí„°ë§
