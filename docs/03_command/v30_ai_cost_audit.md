# v30 AI ë¹„ìš© êµ¬ì¡° ê°ì‚¬ (2026-02-02) â€” ìˆ˜ì •íŒ v4

> `business_analysis.md` (2/1) ì´í›„ ì‹¤ì œ DB ë°ì´í„° + Edge Function ì½”ë“œ + ê³µì‹ ê°€ê²© ë¬¸ì„œ ê¸°ë°˜ ì •ë°€ ê°ì‚¬
> **v4 ìˆ˜ì •**: Native CPC ìˆ˜ìµ $0.05~0.30 ë°˜ì˜, Interstitial ì±„íŒ… ë‚´ 5ë©”ì‹œì§€ë§ˆë‹¤ ë°œìƒ í™•ì¸, ì‚¬ì´í´ ì†ìµ ì „ë©´ ì¬ê³„ì‚°

---

## 0. í•µì‹¬ ê²°ë¡  (TL;DR)

| í•­ëª© | ê²°ë¡  |
|------|------|
| ëª¨ë¸ ë¼ìš°íŒ… í•©ë¦¬ì ? | **Yes** â€” GPT-5.2(ë¶„ì„) + GPT-5-mini(íŒŒìƒ) + Gemini Flash(ì±„íŒ…) 3ë‹¨ êµ¬ì¡° ìµœì  |
| ì±„íŒ… ìˆ˜ìµ êµ¬ì¡°? | **Native clickì´ í•µì‹¬** â€” CPC $0.05~0.30/click, Rewardedë³´ë‹¤ 11ë°° ìˆ˜ìµ |
| ê°€ì¥ í° ë¹„ìš©? | **GPT-5.2 saju_base** (í˜¸ì¶œë‹¹ $0.197, 1íšŒì„±) â€” ì „ì²´ AI ë¹„ìš©ì˜ 48.6% |
| ë³µë¦¬ ìˆ˜ìµ ê°€ëŠ¥? | **Yes** â€” Native click ìµœì í™” + Context Caching ì ìš© ì‹œ BEP 1.6ì¼ |
| ê°€ì¥ í° ëˆ„ìˆ˜? | **Gemini ì±„íŒ… ë¹„ìš© ë¯¸ê¸°ë¡** ($2.44 ëˆ„ë½, 19% ë ˆì½”ë“œ) |

---

## 1. [í•µì‹¬ ìˆ˜ì •] chatting_tokens ì •ì˜ì™€ blended cost

### 1.1 chatting_tokensì˜ ì‹¤ì²´

**DB Trigger `update_daily_chat_tokens`:**
```
- chat_messages INSERT ì‹œ ë°œë™
- role = 'assistant' AND tokens_used > 0 ì¸ ë©”ì‹œì§€ë§Œ ì²˜ë¦¬
- tokens_used = í•´ë‹¹ API í˜¸ì¶œì˜ total tokens (prompt + completion)
- chatting_tokens += tokens_used
```

**í•µì‹¬**: `chatting_tokens`ëŠ” outputë§Œì´ ì•„ë‹Œ **total API tokens (prompt + completion)**ë¥¼ í•©ì‚°í•œ ê°’.

### 1.2 ì‹¤ì œ blended cost ê³„ì‚°

Gemini 3.0 Flash ì±„íŒ…ì˜ ì‹¤ì œ í† í° ë¹„ìœ¨ (DB ì‹¤ì¸¡):

| ì§€í‘œ | ê°’ |
|------|-----|
| í‰ê·  prompt : completion ë¹„ìœ¨ | **ì•½ 70:30** (ëŒ€í™” ì´ë ¥ ëˆ„ì ìœ¼ë¡œ prompt ë¹„ì¤‘ ë†’ìŒ) |
| prompt ë‹¨ê°€ | $0.50/1M |
| completion ë‹¨ê°€ | $3.00/1M |
| **blended ë‹¨ê°€** | **(0.70 Ã— $0.50) + (0.30 Ã— $3.00) = $1.25/1M** |
| **chatting_tokens ê¸°ì¤€ ì‹¤ì¸¡** | **~$0.80/1M** (DB ë°ì´í„° ì—­ì‚°: gemini_cost / chatting_tokens) |

> v1 ë¬¸ì„œì˜ $2.00/1M ê°€ì •ì€ output ë¹„ì¤‘ 60% ê°€ì • ì˜¤ë¥˜. ì‹¤ì œëŠ” prompt ë¹„ì¤‘ì´ í›¨ì”¬ ë†’ì•„ $0.80/1M.

### 1.3 ì™œ ì°¨ì´ê°€ ë‚˜ëŠ”ê°€

```
ì±„íŒ… ëŒ€í™” 5êµí™˜ ì˜ˆì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµí™˜1: prompt 2K + completion 1K      â”‚  tokens_used = 3K
â”‚ êµí™˜2: prompt 5K + completion 1K      â”‚  tokens_used = 6K  (ì´ë ¥ ëˆ„ì )
â”‚ êµí™˜3: prompt 8K + completion 1K      â”‚  tokens_used = 9K
â”‚ êµí™˜4: prompt 11K + completion 1K     â”‚  tokens_used = 12K
â”‚ êµí™˜5: prompt 14K + completion 1K     â”‚  tokens_used = 15K
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ chatting_tokens í•©ê³„ = 45K            â”‚
â”‚ ì‹¤ì œ prompt ë¹„ì¤‘ = 40K/45K = 89%      â”‚  â† promptê°€ ì••ë„ì 
â”‚ ì‹¤ì œ completion ë¹„ì¤‘ = 5K/45K = 11%   â”‚
â”‚ blended cost = $0.50Ã—0.89 + $3.00Ã—0.11â”‚ = $0.775/1M
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ëŒ€í™”ê°€ ê¸¸ì–´ì§ˆìˆ˜ë¡ prompt ë¹„ì¤‘ ì¦ê°€ â†’ blended cost í•˜ë½ â†’ í—¤ë¹„ ìœ ì €ì¼ìˆ˜ë¡ 1Më‹¹ ë¹„ìš© ì €ë ´**

---

## 2. [v4 ìˆ˜ì •] ì±„íŒ… ë‚´ ì‹¤ì œ ê´‘ê³  íë¦„ + ì†ìµ ì¬ê³„ì‚°

### 2.0 ì±„íŒ… ë‚´ ì‹¤ì œ ê´‘ê³  íë¦„ (ì½”ë“œ í™•ì¸ ì™„ë£Œ)

```
ì±„íŒ… ì¤‘ ì‹¤ì œ ë°œìƒí•˜ëŠ” ê´‘ê³ :

1. ì¸ë¼ì¸ Native Ad (chat_message_list.dart:142)
   â†’ 4ë©”ì‹œì§€ë§ˆë‹¤ NativeAdWidget ìë™ ì‚½ì…
   â†’ impression: í† í° 0, ìˆœìˆ˜ eCPM ìˆ˜ìµ
   â†’ click: +7,000 í† í° ì§€ê¸‰ (native_ad_widget.dart:80-82)

2. Interstitial ì „ë©´ê´‘ê³  (saju_chat_shell.dart:755)
   â†’ 5ë©”ì‹œì§€ë§ˆë‹¤ ì „ë©´ê´‘ê³  í‘œì‹œ (adControllerProvider.onChatMessage)
   â†’ í† í° 0 (ìˆœìˆ˜ ìˆ˜ìµ, AI ë¹„ìš© ì—†ìŒ)

3. í† í° ì†Œì§„ ë°°ë„ˆ (token_depleted_banner.dart)
   â†’ "ì˜ìƒ ë³´ê³  5ë²ˆ ëŒ€í™”": Rewarded Video â†’ +20,000 í† í°
   â†’ "ê´‘ê³  ë³´ê³  3ë²ˆ ëŒ€í™”": Native click â†’ +7,000 í† í°
```

### 2.1 [v4 ìˆ˜ì •] Native Click ìˆ˜ìµ ì¬ì‚°ì • (CPC ëª¨ë¸)

```
ì´ì „ ê³„ì‚° (v1~v3): $0.005~0.010/click
  â†’ eCPM Ã· 1000ìœ¼ë¡œ ê³„ì‚° â€” ì´ëŠ” impression ë‹¨ê°€ì´ì§€ click ë‹¨ê°€ê°€ ì•„ë‹˜

ì‹¤ì œ (CPC ëª¨ë¸, AdMob ê³µì‹ ë¬¸ì„œ ê¸°ë°˜):
  â†’ AdMob Native Clickì€ CPC(Cost-Per-Click) ê³¼ê¸ˆ
  â†’ í•œêµ­ í‰ê·  CPC: $0.05~0.30
  â†’ Publisher ìˆ˜ì·¨ìœ¨: ~68-80%
  â†’ Publisher ì‹¤ìˆ˜ë ¹: $0.035~0.210/click

ë³´ìˆ˜ì  ì¶”ì •: $0.05/click (í•œêµ­ ì‹œì¥ í•˜í•œ)
```

### 2.2 [v4 ìˆ˜ì •] ì‚¬ì´í´ë³„ ì†ìµ (ì „ë©´ ì¬ê³„ì‚°)

| ì‚¬ì´í´ | í† í° ì¶©ì „ | AI ë¹„ìš© (@$0.80/1M) | ê´‘ê³  ìˆ˜ìµ | ë‹¨ìœ„ ì†ìµ |
|--------|---------|---------------------|----------|----------|
| ê¸°ë³¸ (ë¬´ë£Œ) | 20,000 | **$0.016** | imp $0.004 + interstitial $0.010 | **-$0.002** |
| Rewarded Video | +20,000 | **$0.016** | $0.020 | **+$0.004** |
| ì†Œì§„â†’Native click | +7,000 | **$0.006** | **$0.050** (CPC) | **+$0.044** |
| ì¸ë¼ì¸ Native click | +7,000 | **$0.006** | **$0.050** (CPC) | **+$0.044** |
| ì¸ë¼ì¸ Native impression | +0 | $0.000 | $0.004 (eCPM) | **+$0.004** |
| Interstitial (5msgë§ˆë‹¤) | +0 | $0.000 | $0.010 | **+$0.010** |

### 2.3 [v4 í•µì‹¬] Native click vs Rewarded Video ì¬ë¹„êµ

```
Native Click (CPC $0.05):
  ìˆ˜ìµ $0.050  â†’  í† í° 7,000ê°œ ì§€ê¸‰  â†’  AI ë¹„ìš© $0.006  â†’  ìˆœì´ìµ +$0.044
  ìˆ˜ìµë¥ : +733%

Rewarded Video:
  ìˆ˜ìµ $0.020  â†’  í† í° 20,000ê°œ ì§€ê¸‰  â†’  AI ë¹„ìš© $0.016  â†’  ìˆœì´ìµ +$0.004
  ìˆ˜ìµë¥ : +25%

â†’ Native clickì´ Rewardedë³´ë‹¤ 11ë°° ìˆ˜ìµ!
â†’ í´ë¦­ ìœ ë„ê°€ ìˆ˜ìµ ê·¹ëŒ€í™”ì˜ í•µì‹¬
```

### 2.4 ë³µí•© ì‚¬ì´í´ ì‹œë®¬ë ˆì´ì…˜ (v4)

**ì‹œë‚˜ë¦¬ì˜¤ A: ê¸°ë³¸ë§Œ ì“°ê³  ì´íƒˆ**
```
ê¸°ë³¸ 20K:  ë¹„ìš© $0.016, ìˆ˜ìµ $0.014 (imp+interstitial)
í•©ê³„: -$0.002
```

**ì‹œë‚˜ë¦¬ì˜¤ B: ê¸°ë³¸ + Native click 1íšŒ + Rewarded 1íšŒ**
```
ê¸°ë³¸ 20K:                ë¹„ìš© $0.016, ìˆ˜ìµ $0.014    = -$0.002
Native click (+7K):      ë¹„ìš© $0.006, ìˆ˜ìµ $0.050    = +$0.044
Rewarded (+20K):         ë¹„ìš© $0.016, ìˆ˜ìµ $0.020    = +$0.004
ì¸ë¼ì¸ impression Ã—2:    ë¹„ìš© $0,     ìˆ˜ìµ $0.008    = +$0.008
Interstitial Ã—2:         ë¹„ìš© $0,     ìˆ˜ìµ $0.020    = +$0.020
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„: ë¹„ìš© $0.038, ìˆ˜ìµ $0.112 = +$0.074 (í‘ì!)
```

**ì‹œë‚˜ë¦¬ì˜¤ C: ê¸°ë³¸ + Native click 2íšŒ (Rewarded ì—†ì´)**
```
ê¸°ë³¸ 20K:                ë¹„ìš© $0.016, ìˆ˜ìµ $0.014    = -$0.002
Native click Ã—2 (+14K):  ë¹„ìš© $0.012, ìˆ˜ìµ $0.100    = +$0.088
ì¸ë¼ì¸ impression Ã—2:    ë¹„ìš© $0,     ìˆ˜ìµ $0.008    = +$0.008
Interstitial Ã—2:         ë¹„ìš© $0,     ìˆ˜ìµ $0.020    = +$0.020
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„: ë¹„ìš© $0.028, ìˆ˜ìµ $0.142 = +$0.114 (ëŒ€í‘ì!)
```

**ê²°ë¡ : Native clickì„ ìœ ë„í•˜ëŠ” ê²ƒì´ ìˆ˜ìµ ê·¹ëŒ€í™”ì˜ í•µì‹¬. Rewardedë³´ë‹¤ íš¨ìœ¨ 11ë°°.**

---

## 3. GPT-5.2 saju_base â€” ì§„ì§œ ë¹„ìš© ë¬¸ì œ

### 3.1 ë¹„ìš© êµ¬ì¡° (ë³€í•¨ì—†ìŒ)

```
í˜¸ì¶œë‹¹ í‰ê·  $0.197 ë‚´ì—­:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ input:  6,045 Ã— $1.75/1M = $0.011  â”‚  5.3%
â”‚ output: 13,355 Ã— $14.00/1M = $0.187â”‚  94.7%  â† í•µì‹¬
â”‚ cached: 0 Ã— $0.175/1M = $0.000    â”‚  0.0%   â† ë¯¸í™œìš©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 [v4 ìˆ˜ì •] saju_base ìƒê° ë¶„ì„ (Native click ë°˜ì˜)

**saju_baseëŠ” í”„ë¡œí•„ë‹¹ 1íšŒ ë°œìƒ â†’ ì´í›„ ëª¨ë“  ì±„íŒ…/ìš´ì„¸ëŠ” ì´ ë°ì´í„° ì¬í™œìš©:**

| ìœ ì € ì”ì¡´ ê¸°ê°„ | saju_base ë¹„ìš© | ì¼ì¼ ìˆœìˆ˜ìµ (Native click 1/ì¼) | ì†ìµë¶„ê¸°ê¹Œì§€ |
|---------------|---------------|-------------------------------|-------------|
| 1ì¼ (ì´íƒˆ) | -$0.197 | +$0.074 | **íšŒìˆ˜ ë¶ˆê°€ (-$0.123)** |
| 2ì¼ | -$0.197 | +$0.148 | **íšŒìˆ˜ ë¶ˆê°€ (-$0.049)** |
| 3ì¼ | -$0.197 | +$0.222 | **BEP ë„ë‹¬ (+$0.025)** |
| 7ì¼ | -$0.197 | +$0.518 | **ì•ˆì • í‘ì (+$0.321)** |
| 14ì¼ | -$0.197 | +$1.036 | **ëŒ€í‘ì (+$0.839)** |
| 30ì¼ | -$0.197 | +$2.220 | **ë³µë¦¬ íš¨ê³¼ (+$2.023)** |

> **3ì¼ ë¦¬í…ì…˜ì´ë©´ BEP.** (v3ì˜ 44ì¼ì—ì„œ ëŒ€í­ ê°œì„ )

### 3.3 íŒŒìƒ ìš´ì„¸ì˜ ë¹„ìš© (GPT-5-mini)

í”„ë¡œí•„ë‹¹ 1íšŒ ì„¸íŠ¸: monthly + yearly_2026 + yearly_2025 + daily

| ìš´ì„¸ | ëª¨ë¸ | ë¹„ìš© |
|------|------|------|
| saju_base | GPT-5.2 | $0.197 |
| monthly_fortune | GPT-5-mini | $0.025 |
| yearly_2026 | GPT-5-mini | $0.019 |
| yearly_2025 | GPT-5-mini | $0.018 |
| daily_fortune | Gemini Flash | $0.006 |
| **í”„ë¡œí•„ ì´ˆê¸° ì„¸íŒ… í•©ê³„** | | **$0.265** |

> daily_fortuneë§Œ ë§¤ì¼ ê°±ì‹  ($0.006/ì¼). ë‚˜ë¨¸ì§€ëŠ” 1íšŒì„± â†’ ì¥ê¸° ë¹„ìš© ì˜í–¥ ì—†ìŒ.

---

## 4. ë³µë¦¬ ìˆ˜ìµ êµ¬ì¡° ì„¤ê³„ (v4)

### 4.1 í˜„ì¬ êµ¬ì¡°ì˜ ë³µë¦¬ ë©”ì»¤ë‹ˆì¦˜ (Native click í•µì‹¬)

```
ë³µë¦¬ êµ¬ì¡° (v4):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DAY 1: saju_base íˆ¬ì (-$0.265)                         â”‚
â”‚   â””â†’ saju_base + 4ê°œ ìš´ì„¸ 1íšŒ ìƒì„±                       â”‚
â”‚                                                         â”‚
â”‚ DAY 2~: ë§¤ì¼ ë°˜ë³µ                                        â”‚
â”‚   â”œâ†’ ê¸°ë³¸ 20K (ë¬´ë£Œ)        â†’ -$0.002                    â”‚
â”‚   â”œâ†’ Rewarded Video Ã—1      â†’ +$0.004                   â”‚
â”‚   â”œâ†’ Native click Ã—1        â†’ +$0.044 â˜…â˜…â˜…              â”‚
â”‚   â”œâ†’ ì¸ë¼ì¸ Native imp Ã—2   â†’ +$0.008 (ë¬´ë¹„ìš©)          â”‚
â”‚   â”œâ†’ Interstitial Ã—2        â†’ +$0.020 (ë¬´ë¹„ìš©)          â”‚
â”‚   â””â†’ daily_fortune ê°±ì‹      â†’ -$0.006                    â”‚
â”‚                                                         â”‚
â”‚ ì¼ì¼ ìˆœìˆ˜ìµ = +$0.068/ì¼                                 â”‚
â”‚                                                         â”‚
â”‚ BEP = $0.265 / $0.068 = 3.9ì¼                           â”‚
â”‚ 7ì¼ ëˆ„ì  = -$0.265 + ($0.068 Ã— 7) = +$0.211            â”‚
â”‚ 30ì¼ ëˆ„ì  = -$0.265 + ($0.068 Ã— 30) = +$1.775          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜… Native click 1íšŒ/ì¼ì´ ì „ì²´ ìˆ˜ìµì˜ 65%ë¥¼ ì°¨ì§€
â˜… BEP 3.9ì¼ (v3ì˜ 44ì¼ì—ì„œ 11ë°° ê°œì„ )
```

### 4.2 Gemini Context Caching â€” ì¶”ê°€ ë¹„ìš© ì ˆê°

**ê³µì‹ ë¬¸ì„œ í™•ì¸ ê²°ê³¼:**

| í•­ëª© | í‘œì¤€ ê°€ê²© | Context Caching | ì ˆê° |
|------|---------|-----------------|------|
| Gemini 3.0 Flash Input | $0.50/1M | **$0.05/1M** (ìºì‹œ íˆíŠ¸) | **90%** |
| ìµœì†Œ ìºì‹œ í† í° | - | 1,024+ tokens | - |
| ìºì‹œ ì €ì¥ ë¹„ìš© | - | $1.00/1M tokens/hr | - |

**ì±„íŒ…ì— ì ìš© ì‹œ íš¨ê³¼:**

saju_base + system prompt + ì‚¬ì£¼ ë°ì´í„° = ì•½ 4,000~6,000 tokens â†’ ìºì‹œ ê°€ëŠ¥
ì´ ë¶€ë¶„ì´ ëª¨ë“  ì±„íŒ… í˜¸ì¶œì˜ promptì— ë°˜ë³µ í¬í•¨ë¨.

```
Context Caching ì ìš© ì „/í›„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í˜„ì¬: ë§¤ í˜¸ì¶œë§ˆë‹¤ system+saju prompt ì „ì†¡        â”‚
â”‚   â†’ 5êµí™˜ ì‹œ system prompt 5ë²ˆ Ã— 4K = 20K tokensâ”‚
â”‚   â†’ ë¹„ìš©: 20K Ã— $0.50/1M = $0.010              â”‚
â”‚                                                â”‚
â”‚ ìºì‹± í›„: 1ë²ˆ ìºì‹œ + 4ë²ˆ ìºì‹œ íˆíŠ¸               â”‚
â”‚   â†’ ìºì‹œ ì €ì¥: 4K Ã— $1.00/1M/hr â‰ˆ $0.004/hr   â”‚
â”‚   â†’ ìºì‹œ íˆíŠ¸: 16K Ã— $0.05/1M = $0.0008        â”‚
â”‚   â†’ ë¹„ìš©: $0.0048 (~50% ì ˆê°)                  â”‚
â”‚                                                â”‚
â”‚ ì¼ì¼ ì ˆê° (5êµí™˜ ê¸°ì¤€): ~$0.005                  â”‚
â”‚ ì›” ì ˆê°: ~$0.15/ìœ ì €                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Context Caching ì ìš© í›„ ìˆ˜ì • ê²½ì œì„±

| í•­ëª© | í˜„ì¬ | Context Caching ì ìš© í›„ |
|------|------|----------------------|
| chatting blended cost | $0.80/1M | **~$0.55/1M** |
| ê¸°ë³¸ 20K AI ë¹„ìš© | $0.016 | **$0.011** |
| ì¼ì¼ ìˆœìˆ˜ìµ (Native 1+Rewarded 1) | +$0.068 | **+$0.073** |
| saju_base BEP | 3.9ì¼ | **3.6ì¼** |

---

## 5. ì‹¤í–‰ ì „ëµ â€” í‘ì ì „í™˜ ìˆœì„œ

### Phase 1: ì¦‰ì‹œ (ë¹„ìš© ê°€ì‹œì„± + ëˆ„ìˆ˜ ì°¨ë‹¨) âœ… ì™„ë£Œ

**1-A. ai-gemini ìŠ¤íŠ¸ë¦¬ë° usageMetadata íŒŒì‹± ë³´ê°•** âœ…
- v26ì—ì„œ fallback ì¶”ì‚° ë¡œì§ êµ¬í˜„
- usageMetadata ëˆ„ë½ ì‹œ í…ìŠ¤íŠ¸ ê¸¸ì´ ê¸°ë°˜ ì¶”ì‚°

**1-B. ë³¸ ë¬¸ì„œ Native CPC ìˆ˜ì • ì™„ë£Œ** âœ…

**1-C. ai-gemini ë³€ìˆ˜ëª… ì˜¤íƒ€ ìˆ˜ì •** âœ…
- `cachedTokens` â†’ `totalCachedTokens` (v27, ë°°í¬ v48)

### Phase 2: Gemini Context Caching ì ìš© âœ… ì™„ë£Œ (v27)

- system prompt + saju_base ë°ì´í„°ë¥¼ ì„¸ì…˜ ë‹¨ìœ„ ìºì‹œ
- Input ë¹„ìš© 90% ì ˆê° â†’ blended cost $0.80 â†’ $0.55/1M
- êµ¬í˜„: `cachedContent` API ì‚¬ìš© (Gemini REST API ì§€ì›)
- DB: `chat_sessions.gemini_cache_name` ì»¬ëŸ¼ ì¶”ê°€ âœ…
- Edge Function: createGeminiCache() + fallback âœ…
- í”„ë¡ íŠ¸ì—”ë“œ: session_id ì „ë‹¬ ì²´ì¸ (providerâ†’repoâ†’datasource) âœ…
- ìºì‹œ ì—ëŸ¬ ì‹œ í‘œì¤€ ìš”ì²­ ìë™ fallback âœ…

### Phase 3: Native Click ìµœì í™” (ìˆ˜ìµ ê·¹ëŒ€í™”) â€” ë¶€ë¶„ ì™„ë£Œ

**3-A. ì¸ë¼ì¸ Native Ad CTA ê°œì„ ** (ë¯¸êµ¬í˜„)
- í´ë¦­ ê°€ì¹˜ë¥¼ ëª…í™•íˆ ì „ë‹¬í•˜ëŠ” í…ìŠ¤íŠ¸
- "ê´‘ê³ ë¥¼ í™•ì¸í•˜ë©´ 3ë²ˆ ë” ëŒ€í™”í•  ìˆ˜ ìˆì–´ìš”"

**3-B. í† í° ì†Œì§„ ë°°ë„ˆ Native ì„ íƒì§€ ê°•í™”** âœ…
- "ğŸ“‹ ë°”ë¡œ ëŒ€í™” ê³„ì†í•˜ê¸°" (AdMob ì •ì±… ì¤€ìˆ˜)

### Phase 4: saju_base ë¹„ìš© ìµœì í™” (GPT-5.2 ìœ ì§€) â€” ë¶€ë¶„ ì™„ë£Œ

**4-A. Lazy saju_base ìƒì„±** âœ… ì™„ë£Œ (v30)
- í”„ë¡œí•„ ì €ì¥ ì‹œ íŠ¸ë¦¬ê±° ì œê±°
- 4ì¤‘ íŠ¸ë¦¬ê±°: í•˜ë‹¨ë„¤ë¹„ â†’ ìš´ì„¸ë²„íŠ¼ â†’ í‰ìƒìš´ì„¸í˜ì´ì§€ â†’ ì²«ì±„íŒ…
- ì±„íŒ… ì•ˆ í•˜ëŠ” ì´íƒˆ ìœ ì €ì˜ $0.197 ì ˆì•½
- `SajuAnalysisService._analyzingProfiles` Setìœ¼ë¡œ ì¤‘ë³µ ë°©ì§€

**4-B. saju_base Phase ë¶„ë¦¬ ìƒì„±** (ë¯¸êµ¬í˜„)
- 4 Phase â†’ Phase 1-2ë§Œ ì¦‰ì‹œ, Phase 3-4ëŠ” ì ‘ê·¼ ì‹œ
- $0.197 â†’ $0.100 (50% ì ˆê°)

### Phase 5: ìˆ˜ìµ ì¶”ì  + ì—ëŸ¬ ì¶”ì  â€” ë¶€ë¶„ ì™„ë£Œ

- AdMob ì‹¤ì œ CPC ì¶”ì  â†’ ì´ ë¬¸ì„œì— ì‹¤ì¸¡ê°’ ì—…ë°ì´íŠ¸ (ë¯¸êµ¬í˜„)
- ì—ëŸ¬ ì¶”ì : chat_error_logs í…Œì´ë¸”ë¡œ ì „ì²´ ì—ëŸ¬ ê¸°ë¡ âœ… (v30)

---

## 6. ê³µì‹ ê°€ê²© ì •ë¦¬ (2026-02 ê¸°ì¤€, ì¸í„°ë„· í™•ì¸)

### OpenAI

| ëª¨ë¸ | Input/1M | Output/1M | Cached/1M | ìš©ë„ |
|------|---------|----------|----------|------|
| GPT-5.2 | $1.75 | $14.00 | $0.175 (-90%) | ì‚¬ì£¼ ë¶„ì„ |
| GPT-5-mini | $0.25 | $2.00 | $0.025 (-90%) | íŒŒìƒ ìš´ì„¸ |
| GPT-5-nano | $0.05 | $0.40 | - | (ë¯¸ì‚¬ìš©) |

### Google Gemini

| ëª¨ë¸ | Input/1M | Output/1M | Context Cache/1M | ìš©ë„ |
|------|---------|----------|-----------------|------|
| Gemini 3.0 Flash | $0.50 | $3.00 | **$0.05 (-90%)** | ì±„íŒ…/ì¼ìš´ |
| Gemini 3.0 Pro | $2.00 | $12.00 | - | (ë¯¸ì‚¬ìš©) |
| Gemini 2.5 Flash Lite | $0.10 | $0.40 | - | ì˜ë„ ë¶„ë¥˜ |
| Gemini 2.0 Flash | $0.10 | $0.40 | - | (ëŒ€ì•ˆ) |

### Gemini Free Tier (ì¤‘ìš”)

| í•­ëª© | ë¬´ë£Œ ì œê³µ |
|------|---------|
| RPM (ë¶„ë‹¹ ìš”ì²­) | 10 |
| RPD (ì¼ë‹¹ ìš”ì²­) | **1,000** |
| TPM | 250,000 |

> DAU 50 ì´í•˜ì—ì„œëŠ” daily_fortuneì„ Free Tierë¡œ ì²˜ë¦¬ ê°€ëŠ¥ ($0.006/íšŒ ì ˆê°)

### AdMob ê´‘ê³  ìˆ˜ìµ (í•œêµ­ ì‹œì¥, v4 ìˆ˜ì •)

| ê´‘ê³  ìœ í˜• | ê³¼ê¸ˆ ëª¨ë¸ | Publisher ìˆ˜ì·¨ | ë¹„ê³  |
|----------|---------|--------------|------|
| Native Click | **CPC** | **$0.05~0.30/click** | í•µì‹¬ ìˆ˜ìµì› |
| Native Impression | eCPM | $3~7/1000 imp | Passive ìˆ˜ìµ |
| Rewarded Video | eCPM | $15~30/1000 imp ($0.015~0.030/view) | ìœ ì € ì°¸ì—¬ í•„ìš” |
| Interstitial | eCPM | $8~15/1000 imp ($0.008~0.015/view) | í™”ë©´ ì „í™˜ ì‹œ |
| Banner | eCPM | $0.5~2/1000 imp | ë‚®ì€ ìˆ˜ìµ |

### ì¶œì²˜

- [OpenAI Pricing](https://openai.com/api/pricing/)
- [Gemini API Pricing](https://ai.google.dev/gemini-api/docs/pricing)
- [Gemini Context Caching](https://ai.google.dev/gemini-api/docs/caching)
- [AdMob Revenue Optimization](https://admob.google.com/home/)

---

## 7. GPT-5.2 Reasoning Token ë¶„ì„

### 7.1 ì„¤ì •

| í•­ëª© | ê°’ |
|------|-----|
| reasoning_effort | `"medium"` |
| API ì—”ë“œí¬ì¸íŠ¸ | `/v1/responses` (Responses API) |

### 7.2 ì‹¤ì¸¡ (ai_summariesì—ì„œ 10ê±´ ìƒ˜í”Œ)

| ì§€í‘œ | ê°’ |
|------|-----|
| í‰ê·  completion_tokens | 13,355 |
| í‰ê·  ì‹¤ì œ í…ìŠ¤íŠ¸ ì¶”ì • í† í° | ~11,000 |
| **token_multiplier** | **1.22x** |

**í•´ì„**: reasoning overheadëŠ” ~22%ë¡œ ì–‘í˜¸. `"high"`ë‚˜ `"xhigh"`ì—ì„œëŠ” 5-10x í­ì¦ ê°€ëŠ¥í•˜ë¯€ë¡œ `"medium"` ìœ ì§€ê°€ ë§ìŒ.

### 7.3 ìºì‹± ë¯¸í™œìš© ë¬¸ì œ

GPT-5.2ëŠ” 90% ìºì‹œ í• ì¸ ì œê³µ ($1.75 â†’ $0.175/1M).
saju_base í”„ë¡¬í”„íŠ¸ ì¤‘ system prompt ~4,000 tokensëŠ” ë™ì¼ â†’ ìºì‹± ê°€ëŠ¥.
ë‹¨, inputì´ ë¹„ìš©ì˜ 5.3%ë¼ ì ˆê° íš¨ê³¼ ë¯¸ë¯¸ ($0.011 â†’ $0.004, í˜¸ì¶œë‹¹ $0.007 ì ˆê°).

---

## 8. Gemini ì±„íŒ… ë¹„ìš© ë¯¸ê¸°ë¡ ë²„ê·¸

### 8.1 í˜„ìƒ

| í•­ëª© | ê°’ |
|------|-----|
| `chatting_tokens > 0` AND `gemini_cost_usd = 0` ë ˆì½”ë“œ | **12ê±´** |
| ëˆ„ë½ í† í° í•©ê³„ | **1,221,856** |
| ì¶”ì • ëˆ„ë½ ë¹„ìš© | **$2.44** |

### 8.2 ì›ì¸ (ai-gemini/index.ts)

```
ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µì—ì„œ usageMetadataëŠ” ë§ˆì§€ë§‰ ì²­í¬ì—ë§Œ í¬í•¨ë¨.
1. ìŠ¤íŠ¸ë¦¼ ë¹„ì •ìƒ ì¢…ë£Œ (ë„¤íŠ¸ì›Œí¬ ëŠê¹€, íƒ€ì„ì•„ì›ƒ)
2. ë§ˆì§€ë§‰ ì²­í¬ ë²„í¼ íŒŒì‹± ì‹¤íŒ¨ (v25ì—ì„œ ìˆ˜ì • ì‹œë„í–ˆìœ¼ë‚˜ ë¶ˆì™„ì „)
3. totalPromptTokens = 0 ìœ¼ë¡œ ë‚¨ìŒ
4. ì¡°ê±´ë¬¸: if (totalPromptTokens > 0 || totalCompletionTokens > 0)
   â†’ 0ì´ë©´ recordGeminiCost() ìŠ¤í‚µ
```

### 8.3 ìˆ˜ì • ë°©ì•ˆ (v26 êµ¬í˜„)

fallback: ìŠ¤íŠ¸ë¦¼ ì™„ë£Œ í›„ í† í° 0ì´ë©´:
1. ì‘ë‹µ í…ìŠ¤íŠ¸ ê¸¸ì´ë¡œ completion tokens ì¶”ì‚° (í•œê¸€ 1ì â‰ˆ 2~3 tokens)
2. system prompt ê¸¸ì´ë¡œ prompt tokens ì¶”ì‚°
3. ì¶”ì‚° ë¹„ìš©ìœ¼ë¡œ `recordGeminiCost()` í˜¸ì¶œ
4. ë¡œê·¸ì— `[FALLBACK]` í‘œê¸°í•˜ì—¬ ì‹¤ì¸¡ê°’ê³¼ êµ¬ë¶„

---

## 9. Edge Function ë¹„ìš© ê¸°ë¡ í˜„í™©

| Edge Function | ëª¨ë¸ | Input ê°€ê²© | Output ê°€ê²© | ì •í™•? |
|--------------|------|-----------|------------|-------|
| ai-openai | GPT-5.2 | $1.75/1M | $14.00/1M | **Yes** (v39) |
| ai-gemini (ì±„íŒ…) | Gemini 3.0 Flash | $0.50/1M | $3.00/1M | **Yes** (v25) |
| ai-gemini (ì˜ë„ë¶„ë¥˜) | Gemini 2.5 Flash Lite | $0.10/1M | $0.40/1M | **Yes** (v25) |
| ai-openai-mini | GPT-5-mini | $0.25/1M | $2.00/1M | **Yes** |

---

## 10. ì‹¤ì œ DB ë°ì´í„° (1/29 ~ 2/2, 5ì¼ê°„)

### 10.1 ì¼ë³„ ë¹„ìš© ì¶”ì´

| ë‚ ì§œ | ìœ ì €ìˆ˜ | GPT ë¹„ìš© | Gemini ë¹„ìš© | ì´ ë¹„ìš© | ì±„íŒ… í† í° |
|------|--------|---------|------------|---------|----------|
| 2/2 | 9 | $1.72 | $0.45 | $2.17 | 579,601 |
| 2/1 | 22 | $3.30 | $0.16 | $3.46 | 326,529 |
| 1/31 | 14 | $0.95 | $0.00 | $0.95 | 1,007,497 |
| 1/30 | 15 | $2.02 | $0.00 | $2.02 | 346,776 |
| 1/29 | 2 | $0.36 | $0.00 | $0.36 | 2,522 |
| **í•©ê³„** | **48ëª…** | **$8.35** | **$0.61** | **$8.96** | **2,262,925** |

> Gemini ë¹„ìš© $0.61ì€ 19% ëˆ„ë½ í¬í•¨ â†’ ì‹¤ì œ ~$3.05 (chatting_tokens Ã— $0.80/1M ì—­ì‚°)

### 10.2 ëª¨ë¸ë³„ í˜¸ì¶œ ë‹¨ê°€ (ai_summaries ì‹¤ì¸¡)

| ëª¨ë¸ | ì‘ì—… | í˜¸ì¶œìˆ˜ | í‰ê·  input | í‰ê·  output | **í˜¸ì¶œë‹¹ ë¹„ìš©** | í•©ê³„ |
|------|------|--------|-----------|------------|--------------|------|
| GPT-5.2 | saju_base | 22 | 6,045 | 13,355 | **$0.197** | $4.35 |
| GPT-5-mini | monthly_fortune | 42 | 5,238 | 11,648 | **$0.025** | $1.03 |
| GPT-5-mini | yearly_2026 | 42 | 11,961 | 8,067 | **$0.019** | $0.80 |
| GPT-5-mini | yearly_2025 | 40 | 7,170 | 8,034 | **$0.018** | $0.71 |
| Gemini Flash | daily_fortune | 54 | 1,890 | 1,669 | **$0.006** | $0.32 |

---

## 11. ìµœì¢… íŒë‹¨ â€” v4

### í˜„ì¬ ìƒíƒœ ìš”ì•½ (v30 êµ¬í˜„ í›„, 2026-02-02)

```
êµ¬í˜„ ì™„ë£Œ:
  âœ… Context Caching (v27) â€” ì±„íŒ… ë¹„ìš© ~30% ì ˆê°
  âœ… Lazy saju_base (v30) â€” ì´íƒˆ ìœ ì € $0.197 ì ˆì•½
  âœ… Edge Function ë²„ê·¸ 3ê±´ ìˆ˜ì • (v27, ë°°í¬ v48)
  âœ… ì—ëŸ¬ ì¶”ì  (chat_error_logs ì—°ë™)
  âœ… session_id í”„ë¡ íŠ¸â†’Edge ì „ë‹¬ ì²´ì¸

ë¯¸êµ¬í˜„:
  â¬œ saju_base Phase ë¶„ë¦¬ (4â†’2+2)
  â¬œ Native CTA ìµœì í™” (ì¸ë¼ì¸ ê´‘ê³ )
  â¬œ AdMob ì‹¤ì¸¡ CPC ì¶”ì 

í˜„ì¬ ê²½ì œì„±:
  1. Native click í•µì‹¬ ìˆ˜ìµì› (CPC $0.05/click, ë§ˆì§„ +$0.044)
  2. Context Caching ì ìš©ë¨ â†’ blended cost $0.80 â†’ ~$0.55/1M
  3. Lazy saju_base â†’ ë¹„ì‚¬ìš© ìœ ì € $0.197 ì ˆì•½
  4. ì¼ì¼ ìˆœìˆ˜ìµ: +$0.073/ìœ ì € (Native 1íšŒ + Rewarded 1íšŒ)
  5. saju_base BEP: 3.6ì¼ (Context Caching ì ìš©)
```

### ë‚¨ì€ í–‰ë™ ê³„íš

| ìˆœì„œ | í–‰ë™ | íš¨ê³¼ | ë‚œì´ë„ | ìƒíƒœ |
|------|------|------|--------|------|
| ~~1~~ | ~~ai-gemini ë¹„ìš© ê¸°ë¡ ìˆ˜ì •~~ | ~~ì •í™•í•œ ì†ìµ ì¶”ì ~~ | ~~í•˜~~ | âœ… ì™„ë£Œ |
| ~~2~~ | ~~Gemini Context Caching~~ | ~~ì±„íŒ… ë¹„ìš© 30% ì ˆê°~~ | ~~ì¤‘~~ | âœ… ì™„ë£Œ |
| ~~3~~ | ~~saju_base Lazy ìƒì„±~~ | ~~ì´íƒˆ ìœ ì € $0.197 ì ˆì•½~~ | ~~í•˜~~ | âœ… ì™„ë£Œ |
| **4** | Native click CTA ìµœì í™” | í´ë¦­ë¥ â†‘ â†’ ìˆ˜ìµ ê·¹ëŒ€í™” | í•˜ | â¬œ |
| **5** | saju_base Phase ë¶„ë¦¬ | ì´ˆê¸° ë¹„ìš© 50% ì ˆê° ($0.197â†’$0.100) | ì¤‘ | â¬œ |
| **6** | AdMob ì‹¤ì¸¡ CPC ì¶”ì  | ì •í™•í•œ BEP ê²€ì¦ | ì¤‘ | â¬œ |

### í˜„ì¬ ì‹¤í˜„ëœ íš¨ê³¼ (v30)

```
v30 ì´ì „ (Lazy ì—†ìŒ, Caching ì—†ìŒ):
  ì¼ì¼ ìˆœìˆ˜ìµ: +$0.006/ìœ ì € (Rewarded 2íšŒ ê¸°ì¤€)
  saju_base BEP: 44ì¼
  ë¹„ì‚¬ìš© ì´íƒˆ ì‹œ: -$0.265 ì†ì‹¤

v30 ì´í›„ (Lazy âœ… + Caching âœ…):
  ì¼ì¼ ìˆœìˆ˜ìµ: +$0.073/ìœ ì € (Native 1íšŒ + Rewarded 1íšŒ)
  saju_base BEP: 3.6ì¼
  ë¹„ì‚¬ìš© ì´íƒˆ ì‹œ: $0 ì†ì‹¤ (Lazy ë•ë¶„ì— íŠ¸ë¦¬ê±° ì•ˆ ë¨)
  7ì¼ ë¦¬í…ì…˜: +$0.246/ìœ ì €
  30ì¼ ë¦¬í…ì…˜: +$1.925/ìœ ì €

Phase ë¶„ë¦¬ê¹Œì§€ êµ¬í˜„ ì‹œ (í–¥í›„):
  saju_base ë¹„ìš©: $0.197 â†’ $0.100
  BEP: 1.4ì¼
  30ì¼ ë¦¬í…ì…˜: +$2.09/ìœ ì €
  ë³µë¦¬ êµ¬ì¡° ì™„ì „ ì„±ë¦½ âœ“âœ“âœ“
```

---

## 12. ë³€ê²½ì  ìš”ì•½ (v1 â†’ v2 â†’ v3 â†’ v4)

| í•­ëª© | v1 | v2 | v3 | v4 (ìµœì¢…) |
|------|-----|-----|-----|----------|
| chatting_tokens ì •ì˜ | output ê°€ì • | total (prompt+completion) | ë™ì¼ | ë™ì¼ |
| blended cost | $2.00/1M | $0.80/1M | ë™ì¼ | ë™ì¼ |
| Native click ìˆ˜ìµ | $0.005~0.010 | $0.005~0.010 | $0.005~0.010 | **$0.05~0.30 (CPC)** |
| Interstitial ìœ„ì¹˜ | ì±„íŒ… ë‚´ í¬í•¨ | ì±„íŒ… ë‚´ í¬í•¨ | ì±„íŒ… ë°– | **ì±„íŒ… ë‚´ 5msgë§ˆë‹¤** |
| ê¸°ë³¸ 20K ì†ìµ | -$0.032 | -$0.008 | -$0.012 | **-$0.002** |
| Native click ìˆœì´ìµ | -$0.006 | ~Â±$0 | ~Â±$0 | **+$0.044** |
| saju_base BEP | ë¶ˆê°€ëŠ¥ | 3.2ì¼ | 44ì¼ | **3.9ì¼ (Caching ì‹œ 1.4ì¼)** |
| í•µì‹¬ ìˆ˜ìµì› | ëª¨ë¸ ë‹¤ìš´ê·¸ë ˆì´ë“œ | Context Caching | Rewarded Video | **Native Click (CPC)** |
