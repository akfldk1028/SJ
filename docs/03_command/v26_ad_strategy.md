# 만톡 광고 수익화 전략 문서

**작성일**: 2026-02-01
**버전**: v26
**대상 독자**: 비즈니스 의사결정자, 기획자

---

## 문서 개요

본 문서는 만톡 AI 사주 챗봇의 광고 기반 수익화 전략을 정리합니다. AI 비용 구조, 토큰 쿼터 시스템, 광고 수익 모델, 유저 시나리오별 손익 분석을 포함하여 **비개발자도 이해할 수 있도록** 작성되었습니다.

---

## 1. AI 파이프라인 비용 구조

만톡은 3가지 AI 모델을 단계적으로 사용합니다.

### 1.1 비용 상세

| AI 모델 | 용도 | 입력 비용 | 출력 비용 | 실행 빈도 | 프로필당 비용 |
|---------|------|-----------|-----------|-----------|---------------|
| **GPT-5.2** | 사주 기본 분석 (saju_base) | $1.75/1M 토큰 | $14.00/1M 토큰 | 프로필 등록 시 1회 | **~$0.45** |
| **GPT-5-mini** | 운세 분석 (일일/월별/연간) | $0.25/1M 토큰 | $2.00/1M 토큰 | 주기적 갱신 | 가변 |
| **Gemini 3.0 Flash** | 채팅 대화 생성 | $0.50/1M 토큰 | $3.00/1M 토큰 | 매 메시지 | **~$0.009/회** |

### 1.2 채팅 1회당 비용 계산

```
채팅 1회 = 유저 질문 + AI 응답
- 입력 프롬프트: 약 5,000 토큰 (사주 데이터 + 대화 히스토리)
- 출력 응답: 약 2,000 토큰 (AI 답변)
- 총 토큰: 7,000 토큰

비용 = (5,000 × $0.50/1M) + (2,000 × $3.00/1M)
     = $0.0025 + $0.0060
     = $0.0085 ≈ $0.009/회
```

### 1.3 일일 비용 계산 (GPT-5.2 할부 포함)

GPT-5.2는 프로필 등록 시 1회만 실행되지만, 일일 비용 계산에 포함하려면 30일 기준으로 할부 계산합니다.

```
GPT-5.2 할부 = $0.45 ÷ 30일 = $0.015/일

유저당 일일 비용 (3회 채팅 가정):
= GPT-5.2 할부 + (채팅 3회 × $0.009)
= $0.015 + $0.027
= $0.042/일
```

---

## 2. 토큰 쿼터 시스템

만톡은 AI 비용을 통제하기 위해 **토큰 쿼터 시스템**을 운영합니다.

### 2.1 기본 쿼터

| 항목 | 값 | 설명 |
|------|-----|------|
| **daily_quota** | 20,000 토큰 | 모든 유저에게 매일 자동 지급 |
| **채팅 1회 소비** | ~7,000 토큰 | prompt 5K + completion 2K |
| **무료 채팅 횟수** | 20,000 ÷ 7,000 = **~3회/일** | 광고 없이 가능한 채팅 |
| **questionAnswerMaxTokens** | 2,048 | AI 응답 최대 출력 토큰 (한글 4,000~6,000자) |

### 2.2 쿼터 초과 판단 공식

```javascript
is_quota_exceeded = chatting_tokens >= (daily_quota + bonus_tokens + rewarded_tokens_earned)

// 예시
// chatting_tokens: 25,000 (누적 사용량)
// daily_quota: 20,000
// bonus_tokens: 0
// rewarded_tokens_earned: 6,000 (광고 4회 시청)
// → 25,000 < 26,000 → 쿼터 OK
```

### 2.3 토큰 종류

| 토큰 타입 | 획득 방법 | DB 컬럼 |
|----------|-----------|---------|
| **daily_quota** | 매일 자동 리셋 | `daily_quota` (고정 20,000) |
| **bonus_tokens** | 관리자 수동 지급 | `bonus_tokens` |
| **rewarded_tokens_earned** | 광고 시청 보상 | `rewarded_tokens_earned` |

---

## 3. 광고 수익 모델

### 3.1 v26 변경사항

| 설정 | 변경 전 | 변경 후 | 변경 이유 |
|------|---------|---------|-----------|
| **inlineAdMessageInterval** | 3 | **2** | 광고 노출 빈도 50% 증가 |
| **inlineAdMaxCount** | 10 | **20** | 집요한 유저 수용 (수익원) |
| **impressionRewardTokens** | 1,500 | **1,500** | 손익분기 최적점 유지 |

### 3.2 광고 노출 로직

```
매 2번의 메시지마다 Native 광고 1개 삽입
예시:
- 메시지 1~2: 일반 채팅
- 메시지 3: 광고 #1
- 메시지 4~5: 일반 채팅
- 메시지 6: 광고 #2
...
- 최대 20개 광고까지 (세션당)
```

### 3.3 핵심: onAdImpression 강제 보상 로직

**중요**: 유저가 클릭하지 않아도 광고가 화면에 표시되면 자동 보상

```
1. Native 광고가 채팅 스크롤에 나타남 (화면 내 50% 이상)
   ↓
2. Google Mobile Ads가 onAdImpression 콜백 자동 발동
   ↓
3. 앱이 Supabase RPC 호출: increment_ad_counter('native_impressions', 1)
   ↓
4. DB가 rewarded_tokens_earned += 1,500 (자동)
   ↓
5. 유저는 추가 채팅 가능 (1,500 토큰 = ~0.214회)
```

**핵심 전략**:
- 유저가 더 채팅하려면 **반드시 광고를 봐야 함** (강제 게이트)
- AdMob 정책 준수: **impression 기반 보상**(클릭 유도 X)
- 광고를 무시하고 스크롤 → impression 카운트 → 보상 지급

### 3.4 AdMob 정책 준수

```
✅ 허용: "광고를 보면 토큰을 드립니다" (impression 보상)
❌ 금지: "광고를 클릭하면 토큰을 드립니다" (incentivized click)
```

---

## 4. 광고 유형별 수입

### 4.1 광고 타입별 eCPM

| 광고 타입 | eCPM 범위 | 평균 eCPM | 특징 |
|----------|-----------|-----------|------|
| **Native Medium** | $3~15 | **$5** | 채팅 내 자연스러운 버블 형태 |
| **Rewarded** | $10~50 | **$20** | 토큰 100% 소진 시 필수 시청 |
| **배너** | $0.5~2 | **$1** | 하단 상시 노출 |

### 4.2 eCPM이란?

```
eCPM = Effective Cost Per Mille (1,000회 노출당 수익)

예시: eCPM $5
→ 광고 1,000회 노출 시 $5 수익
→ 광고 1회 노출 시 $0.005 수익
```

### 4.3 광고 1회 수입 계산

```
Native Medium (eCPM $5 가정):
= $5 ÷ 1,000 impression
= $0.005/impression

Rewarded (eCPM $20 가정):
= $20 ÷ 1,000 impression
= $0.020/impression
```

---

## 5. 유저 시나리오별 손익 분석

### 시나리오 A: 일반 유저 (3회 채팅 후 이탈)

```
행동:
- 무료 쿼터 20,000 토큰으로 3회 채팅
- 광고 1~2회 impression
- 앱 종료

비용:
- 채팅 3회 × $0.009 = $0.027
- GPT-5.2 할부 $0.015
- 총 비용: $0.042

수입:
- Native impression 2회 × $0.005 = $0.010

손익: $0.010 - $0.042 = -$0.032 (적자)
```

**분석**: 대부분의 라이트 유저는 적자이지만, 인게이지먼트 증가 시 광고 수익으로 전환 가능.

---

### 시나리오 B: 활발한 유저 (광고 보면서 ~5회 채팅)

```
행동:
- 무료 3회 + 광고 4회 impression (1,500 × 4 = 6,000 토큰)
- 총 26,000 토큰으로 5회 채팅 (5 × 7,000 = 35,000이지만 실제 5회는 26K로 가능)

비용:
- 채팅 5회 × $0.009 = $0.045
- GPT-5.2 할부 $0.015
- 총 비용: $0.060

수입:
- Native impression 4~5회 × $0.005 = $0.020~0.025

손익: $0.025 - $0.060 = -$0.035 (적자)
```

**분석**: 여전히 적자이지만, 광고 노출 증가로 격차 축소.

---

### 시나리오 C: 집요한 유저 (광고 20회 다 보면서 ~7회 채팅)

```
행동:
- 무료 3회 + 광고 20회 impression (1,500 × 20 = 30,000 토큰)
- 총 50,000 토큰으로 7회 채팅 (7 × 7,000 = 49,000)

비용:
- 채팅 7회 × $0.009 = $0.063
- GPT-5.2 할부 $0.015
- 총 비용: $0.078

수입:
- Native impression 20회 × $0.005 = $0.100

손익: $0.100 - $0.078 = +$0.022 (흑자!)
```

**분석**: **집요한 유저가 오히려 수익원**이 됨. maxCount=20으로 설정한 이유.

---

### 시나리오 D: 구독자 (ai_premium)

```
행동:
- 광고 없이 무제한 채팅
- 월 구독료 지불 (RevenueCat)

비용:
- 채팅 30회/월 × $0.009 = $0.27
- GPT-5.2 $0.45 (1회)
- 총 비용: $0.72/월

수입:
- 월 구독료: $4.99 (가정)

손익: $4.99 - $0.72 = +$4.27/월 (고수익)
```

**분석**: 구독자는 안정적인 고수익 유저. 광고 기반 무료 유저에서 구독 전환이 핵심 KPI.

---

## 6. 광고당 손익분기 분석

### 6.1 현재 설정 (impressionRewardTokens = 1,500)

```
광고 1회 impression 수입 (eCPM $5):
= $0.005

광고 보상 1,500 토큰:
= 1,500 ÷ 7,000 토큰 = 0.214 채팅
= 0.214 × $0.009 = $0.0019 비용

마진:
= $0.005 - $0.0019 = +$0.0031/impression (흑자)
```

### 6.2 만약 보상을 3,000 토큰으로 늘린다면?

```
광고 1회 impression 수입: $0.005 (동일)

광고 보상 3,000 토큰:
= 3,000 ÷ 7,000 = 0.429 채팅
= 0.429 × $0.009 = $0.0039 비용

마진:
= $0.005 - $0.0039 = +$0.0011/impression (마진 축소)
```

### 6.3 손익분기점

```
손익분기점:
impression 수입 = 보상 비용
$0.005 = (보상 토큰 ÷ 7,000) × $0.009
보상 토큰 = $0.005 × 7,000 ÷ $0.009
         = 3,889 토큰

결론:
- 1,500 토큰: 마진 큼 (최적)
- 3,889 토큰: 손익분기점
- 4,000 토큰 이상: 적자
```

**전략**: **impressionRewardTokens = 1,500 유지**가 광고당 최적 마진을 확보.

---

## 7. 핵심 지표 (KPI)

### 7.1 추적 지표

| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| **DAU당 평균 impression** | 5회 이상 | `user_daily_token_usage.native_impressions` |
| **Native ad eCPM** | $5 이상 | AdMob 대시보드 |
| **클릭률 (CTR)** | 2~3% | `native_clicks ÷ native_impressions` |
| **구독 전환율** | 1~2% | RevenueCat 대시보드 |
| **일일 유저당 적자 상한** | -$0.03 | (수입 - 비용) ÷ DAU |

### 7.2 주간 모니터링

```
매주 월요일 체크:
1. 지난 7일 평균 eCPM (AdMob)
2. DAU당 impression 수 (Supabase Analytics)
3. 구독 전환 수 (RevenueCat)
4. 일일 AI 비용 (OpenAI/Google Cloud 대시보드)
```

---

## 8. 서버 추적 시스템

### 8.1 user_daily_token_usage 테이블

만톡은 Supabase PostgreSQL의 `user_daily_token_usage` 테이블로 모든 토큰과 광고를 추적합니다.

| 컬럼 | 설명 | 업데이트 방법 |
|------|------|---------------|
| **chatting_tokens** | 누적 채팅 토큰 사용량 | DB Trigger 자동 증가 |
| **bonus_tokens** | 관리자 수동 지급 토큰 | `add_ad_bonus_tokens` RPC |
| **rewarded_tokens_earned** | 광고 보상 토큰 | `increment_ad_counter` RPC |
| **ads_watched** | 보상형 광고 시청 횟수 | `add_ad_bonus_tokens` RPC |
| **native_impressions** | Native 광고 노출 횟수 | `trackNativeImpression()` → RPC |
| **native_clicks** | Native 광고 클릭 횟수 | `trackNativeClick()` → RPC |

### 8.2 추적 흐름

```
1. 유저가 채팅 전송
   ↓
2. Flutter 앱이 Gemini API 호출
   ↓
3. Gemini 응답 → Supabase insert_chat RPC
   ↓
4. DB Trigger가 chatting_tokens 자동 증가 (prompt + completion)
   ↓
5. 광고 노출 시 onAdImpression → increment_ad_counter RPC
   ↓
6. rewarded_tokens_earned += 1,500
```

### 8.3 RPC 함수

| RPC | 용도 | 파라미터 |
|-----|------|----------|
| **increment_ad_counter** | 광고 카운터 증가 | `counter_type` ('native_impressions', 'native_clicks', 'rewarded') |
| **add_ad_bonus_tokens** | 관리자 보너스 지급 | `tokens` (양수) |
| **get_user_token_status** | 현재 토큰 상태 조회 | - |

---

## 9. 수익 극대화 전략

### 9.1 단기 전략 (v26 적용)

| 전략 | 실행 내용 | 예상 효과 |
|------|-----------|-----------|
| **광고 빈도 증가** | interval 3→2로 변경 | impression 50% 증가 |
| **집요한 유저 수용** | maxCount 10→20으로 확대 | 고수익 유저 확보 |
| **보상 최적화** | impressionRewardTokens 1,500 유지 | 광고당 마진 $0.003 확보 |
| **보상형 광고 강화** | 토큰 소진 시 Rewarded Ad 유도 | eCPM $20로 고수익 |

### 9.2 중기 전략 (v27~28)

```
1. 구독 모델 강화
   - ai_premium: 광고 제거 + 무제한 채팅
   - 월 $4.99 (또는 현지화 가격)
   - 무료 유저 → 구독 전환 1~2% 목표

2. 배너 광고 추가
   - 하단 상시 노출 (eCPM $1)
   - Native + Banner 조합으로 수익 다각화

3. Dynamic Pricing
   - eCPM 낮은 국가는 impressionRewardTokens 감소
   - eCPM 높은 국가는 유지
```

### 9.3 장기 전략 (v30+)

```
1. AI 비용 최적화
   - GPT-5-mini 활용 확대 (GPT-5.2 대비 1/7 비용)
   - Gemini Pro 1.5 전환 검토 (Flash 대비 품질 향상)

2. 프리미엄 기능
   - 궁합 분석 (추가 GPT-5.2 호출) → 유료화
   - 맞춤 운세 리포트 PDF → 인앱 구매

3. B2B 전환
   - 기업 복지몰 제휴 (대량 구독 할인)
   - API 제공 (다른 앱에 사주 분석 임베딩)
```

---

## 10. 리스크 관리

### 10.1 비용 폭증 리스크

**시나리오**: 악의적 유저가 광고 20개 다 보고 무한 반복

```
대응책:
1. daily_quota 리셋 (매일 자정 UTC)
   → 하루 최대 50K 토큰 (GPT-5.2 할부 제외)
2. IP/디바이스별 rate limiting (Supabase Edge Function)
3. 의심 계정 모니터링 (chatting_tokens > 100K/주)
```

### 10.2 광고 수익 급락 리스크

**시나리오**: AdMob eCPM이 $5 → $2로 하락

```
대응책:
1. impressionRewardTokens 동적 조정 (1,500 → 1,000)
2. 보상형 광고 비중 확대 (eCPM $20)
3. 구독 전환 프로모션 강화
```

### 10.3 AI 가격 인상 리스크

**시나리오**: Gemini Flash가 $3 → $5/1M 출력 토큰

```
대응책:
1. GPT-5-mini로 모델 전환
2. daily_quota 축소 (20K → 15K)
3. 구독료 인상 ($4.99 → $5.99)
```

---

## 11. 요약 및 결론

### 11.1 핵심 수치 요약

| 항목 | 값 |
|------|-----|
| 채팅 1회 비용 | $0.009 |
| 무료 채팅 | 3회/일 |
| Native impression 수입 | $0.005/회 |
| impression 보상 | 1,500 토큰 |
| 광고당 마진 | +$0.003 |
| 집요한 유저 손익 | +$0.022/일 (흑자) |
| 구독자 손익 | +$4.27/월 (고수익) |

### 11.2 비즈니스 모델

```
만톡 수익 구조:

1. 무료 유저 (80%)
   - 적자 운영 ($0.03/일)
   - 광고 노출로 일부 회수
   - 구독 전환 퍼널

2. 활발한 유저 (15%)
   - 광고 다수 노출
   - 손익분기 근접

3. 집요한 유저 (3%)
   - 광고 20개 노출
   - 흑자 전환 (+$0.022/일)

4. 구독자 (2%)
   - 안정적 고수익 (+$4.27/월)
   - 목표: 구독률 5% 달성
```

### 11.3 v26 변경의 핵심 가치

```
✅ 광고 빈도 50% 증가 (interval 2)
   → impression 증가 → 수익 증가

✅ 집요한 유저 수용 (maxCount 20)
   → 이들이 오히려 수익원

✅ impression 보상 1,500 유지
   → 광고당 최적 마진 확보

✅ onAdImpression 강제 로직
   → 클릭 없이도 보상 → AdMob 정책 준수
```

### 11.4 향후 목표

```
Q1 2026:
- DAU 10,000명 달성
- 평균 eCPM $5 유지
- 구독률 1% 달성 (100명)
- 일일 적자 $300 이하 ($0.03/DAU)

Q2 2026:
- DAU 50,000명
- 구독률 2% (1,000명)
- 월간 수익 $5,000 (구독 + 광고)
- 손익분기점 달성

Q3 2026:
- DAU 100,000명
- 구독률 5% (5,000명)
- 월간 수익 $25,000
- 순익 $10,000/월
```

---

## 부록: 용어 해설

| 용어 | 설명 |
|------|------|
| **eCPM** | Effective Cost Per Mille. 광고 1,000회 노출당 수익 |
| **CTR** | Click-Through Rate. 클릭률 = 클릭 수 ÷ impression 수 |
| **DAU** | Daily Active Users. 일일 활성 사용자 수 |
| **토큰** | AI 모델의 입출력 단위. 영어 1단어 ≈ 1.3 토큰, 한글 1글자 ≈ 2~3 토큰 |
| **Impression** | 광고가 화면에 표시된 횟수 (클릭 불필요) |
| **Rewarded Ad** | 보상형 광고. 30초 동영상 시청 시 보상 지급 |
| **Native Ad** | 네이티브 광고. 앱 UI에 자연스럽게 섞인 광고 |
| **RPC** | Remote Procedure Call. Supabase 서버 함수 호출 |

---

**문서 끝**

*이 문서는 만톡 팀 내부용이며, 외부 공개 시 수치를 마스킹 처리하세요.*
